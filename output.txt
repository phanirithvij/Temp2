#start

main
IFS=$'\n'
j=0
for i in $(ls -1 -v)
do
if [ -d $i ]
then
j=$((j+1))
fi
done
echo "{" > tot.json
for i in $(ls -1 -v)
do
if [ -d $i ]
then
tot=$(ls -1 -v $i | grep -E 'jpg$|png$|jpeg$|$gif' | wc -l)
name=$(ls -1 -v $i | grep -E 'jpg$|png$|jpeg$|$gif' | sed 's/[0-9]*//g' | sort -u | cut -d "." -f1)
exten=$(ls -1 -v $i | grep -E 'jpg$|png$|jpeg$|$gif' | sed 's/[0-9]*//g' | sort -u | cut -d "." -f2)
echo -e "{\"tot\":$tot,\"name\":\"$name\",\"exten\":\"$exten\"}"
echo -e "\t{\n\t\"tot\":$tot,\n\t\"name\":\"$name\",\n\t\"exten\":\"$exten\"\n\t}" >> tot.json
if [ $j -ne $i ]
then
echo -e "\t," >> tot.json
fi
fi
done
echo "}" >> tot.json
mainjson.sh
json.sh
#IMPORTANT ONLY IMAGES 

#SED will remove numbers so,mp4 wiil be outputed as mp(BE CAREFUL)


#tot.json creator file
#Which should contain total number of thumbnails in this directory
#and extension
#and name before numbers
tot=$(ls -1 -v | grep -E 'jpg$|png$|jpeg$|$gif'| wc -l)
name=$(ls -1 -v | grep -E 'jpg$|png$|jpeg$|$gif'| sed 's/[0-9]*//g' | sort -u | cut -d "." -f1)
exten=$(ls -1 -v | grep -E 'jpg$|png$|jpeg$|$gif'| sed 's/[0-9]*//g' | sort -u | cut -d "." -f2)
echo "{\"tot\":$tot ,\"name\":\"$name\" ,\"exten\":\"$exten\"}"
echo "{\"tot\":$tot ,\"name\":\"$name\" ,\"exten\":\"$exten\"}" > tot.json
#Git sucessful
